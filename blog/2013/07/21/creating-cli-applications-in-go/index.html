<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>On Distributing Command line Applications: Why I switched from Ruby to Go &middot; Jeremy Saenz</title>

  
  <link rel="stylesheet" href="/css/poole.css">
  <link rel="stylesheet" href="/css/hyde.css">
  <link rel="stylesheet" href="/css/hyde-x.css">
  <link rel="stylesheet" href="/css/codegangsta.css">
  <link rel="stylesheet" href="/css/highlight/github.css">
  
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,400,700,900,300italic,400italic,700italic,900italic">

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link href="/favicon.png" rel="icon">

  
  <link href="" rel="alternate" type="application/rss+xml" title="codegangsta.io &middot; Jeremy Saenz" />

  <meta name="description" content="">
  <meta name="keywords" content="go,golang,cli,ruby">
  
</head>
<body class="theme-base-0d">

<div class="topbar">
  <div class="color-overlay"></div>
  <div class="container">
    <div class="title">
      <h1>CODE GANGSTA</h1>
      <h4>Awesome tools and screencasts for Go programmers.</h4>
    </div>

    

    
    
    
    
    
    
    
    
  </div>
</div>

<div class="content container">
  <div class="post">
    <h1>On Distributing Command line Applications: Why I switched from Ruby to Go</h1>
    <span class="post-date">Jul 21, 2013 &middot; 4 minute read &middot; <a href="https://codegangsta.io/blog/2013/07/21/creating-cli-applications-in-go/#disqus_thread">Comments</a>
    
    <br/>
    
    <a class="label" href="https://codegangsta.io//categories/go">go</a><a class="label" href="https://codegangsta.io//categories/golang">golang</a><a class="label" href="https://codegangsta.io//categories/cli">cli</a><a class="label" href="https://codegangsta.io//categories/ruby">ruby</a>
    </span>
    

<p>For as long as I have been using it, my go-to language for creating CLI applications was Ruby. After all, Ruby is a robust, mature language with many things to make us developers want to gyrate with joy (okay maybe that is just me).</p>

<p>To this day I still hold the opinion that Ruby provides the most elegant amount of expression when it comes to my everyday programming activities. Whether it is the language or the community that fosters clean code, I feel like an artisan every time I sit down to write an application or library in Ruby.</p>

<p>There is something so elegant and beautiful about creating a command line application with the following code:</p>

<pre><code class="language-ruby">desc &quot;A todo application&quot;
app :todo do
  desc &quot;add a todo&quot;
  command :add do
    puts &quot;Your todo has been added&quot;
  end
  desc &quot;remove a todo&quot;
  command :remove do
    puts &quot;your todo has been removed&quot;
  end
end
</code></pre>

<h2 id="distributing-ruby:9f17f9546a36a228d9fba12b21130b57">Distributing Ruby</h2>

<p>While the code is beautiful, distributing Ruby programs is not. Now - I don&rsquo;t want to make you believe that program distribution should be an easy thing, because it definitely is not. There are so many things that can possibly go wrong with an application when you expect it to leave your programming and test environments to run perfectly on your end users machines. Let me say it again; *Distributing programs is <strong>hard work!</strong>*</p>

<p>I&rsquo;m sure you are thinking, &ldquo;Why not distribute your app via Rubygems?&rdquo;. After attempting the distribution of a command line application via Rubygems I came to the following conclusion: <strong>Any application not intended exclusively for Rubyists should not be distributed via Rubygems.</strong> Luckily <a href="http://mitchellh.com/abandoning-rubygems">I am not the only one</a> who holds this position on distribution, so that leads those of us that wish to use Ruby on a long road to properly distribute a command line application.</p>

<h2 id="custom-ruby-and-vendoring:9f17f9546a36a228d9fba12b21130b57">Custom Ruby and Vendoring</h2>

<p>The next natural option with Ruby would be to distribute your entire application independent of RubyGems. So you <em>really</em> only have one good option here, and that is to <a href="http://yehudakatz.com/2012/06/05/tokaido-status-update-implementation-details/">compile a custom version of Ruby</a> to distribute with each OS installer (Yes, you must have an installer) of your application. Just so you don&rsquo;t mess with a users current installation you must compile under a custom prefix; something along the lines of <code>/usr/local/&lt;yourapp&gt;/ruby</code>.</p>

<p>Once this is done it is important to make sure you vendor and distribute all of your gems that you use for your application. This can get nasty when it comes to native gems that rely on local dynamic libraries. Anyway, I hope you get the picture that <em>distributing a ruby app to end users can be a hassle.</em></p>

<h2 id="building-it-in-go:9f17f9546a36a228d9fba12b21130b57">Building it in Go</h2>

<p>If you are adventurous you have probably played with, or heard of the <a href="http://golang.org/">Go programming language</a>. In fact I have started to blog about it for the past couple of weeks. My recent love affair with Go has led me to believe that distributing applications to end users in Go is a much simpler process than languages like Ruby.</p>

<p>Since Go is a compiled language, binaries of your app can be precompiled for each platform that you wish to distribute for. While not as portable as C, (and who can be, C compilers are everywhere!) Go provides a lightweight set of tools that can compile on many platforms for those who wish their end users to compile from source.</p>

<h2 id="introducing-cli-go:9f17f9546a36a228d9fba12b21130b57">Introducing cli.go</h2>

<p>While I loved the simplicity in distributing an application in Go, I missed that expressiveness that I got from Ruby, so (shameless plug) I rolled my own CLI library called <a href="https://github.com/codegangsta/cli">cli.go</a>.</p>

<p><a href="https://github.com/codegangsta/cli">cli.go</a> provides that expressive, &ldquo;Document as you code&rdquo; model for building command line applications in Go. It is easily distributable and super fast! Building real command line apps is as easy as this:</p>

<pre><code class="language-go">package main

import &quot;os&quot;
import &quot;github.com/codegangsta/cli&quot;

func main() {
  app := cli.NewApp()
  app.Name = &quot;boom&quot;
  app.Usage = &quot;make an explosive entrance&quot;
  app.Action = func(c *cli.Context) {
    println(&quot;boom! I say!&quot;)
  }

  app.Run(os.Args)
}
</code></pre>

<p>Go check out the <a href="https://github.com/codegangsta/cli">cli.go</a> repo. <strong>Star</strong> it, <strong>fork</strong> it, <strong>Contribute</strong> to it. Let&rsquo;s make Go the go-to language for command line tools!</p>

<p>Keep writing beautiful code.</p>

  </div>
  <div id="disqus_thread"></div>
</div>


<script type="text/javascript">
var disqus_shortname = "codegangsta";
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>



<script type="text/javascript">
    var disqus_shortname = "codegangsta";
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script type="text/javascript">
  (function() {
   var s = document.createElement('script');
   var popupId = "1405135147462817";
   window.megaphonePopupId = popupId;
   window['mpPopupUrl' + popupId] = "https://o4kmjc5e.megaph.com/?popup=true";

   s.type = 'text/javascript';
   s.async = true;
   s.src = '//megaphoneapp.global.ssl.fastly.net/assets/embedded_popups.js';
   var x = document.getElementsByTagName('script')[0];
   x.parentNode.insertBefore(s, x);

   })();
</script>


</body>
</html>

